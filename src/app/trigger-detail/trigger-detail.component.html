<div *ngIf="isLoading" class="center">
  <nz-spin nzSimple></nz-spin>
</div>

<div *ngIf="!isLoading">
  <form nz-form>
    <nz-form-item style="margin-bottom: 0">
      <nz-form-control>
        <nz-input-group>
          <div nz-col nzSpan="8">
            <h3 style="font-size: 22px;">{{trigger.title}}</h3>
          </div>
        </nz-input-group>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item style="margin-bottom: 0">
      <nz-form-control nzSpan="12">
        <nz-input-group>
          <p style="
          background: transparent;
          border: none;
          outline: none;
          resize: none;">
            {{trigger.description}}
          </p>
        </nz-input-group>
      </nz-form-control>
    </nz-form-item>
  </form>

  <h3>Data</h3>
  <div nz-row>
    <div nz-col nzSpan="5">
      <textarea style="resize: none; color: #515151;" nzAutosize disabled nz-input [(ngModel)]="expectedResponse"></textarea>
    </div>
  </div>

  <br/>

  <h3>Acties</h3>
  <nz-collapse [nzBordered]="false">
    <nz-collapse-panel *ngFor="let action of actions" [nzHeader]="title" [nzActive]="action.active">
      <ng-template #title>
        {{action.title}}
      </ng-template>
      <div style="padding: 6px;">
        <app-mailing-template-edit *ngIf="action.type === 'mailing'" [template]="action.template" ></app-mailing-template-edit>
      </div>
    </nz-collapse-panel>
    <nz-collapse-panel nzDisabled [nzExpandedIcon]="('plus' || expandedIcon)" [nzHeader]="header" [nzActive]="addNewPanel.active">
      <p>{{ addNewPanel.title }} content</p>
      <ng-template #header>
        {{addNewPanel.title}}
      </ng-template>
      <ng-template #expandedIcon let-active>
        {{ active }}
        <i nz-icon type="caret-right" class="ant-collapse-arrow" [nzRotate]="p.nzActive ? 90 : -90"></i>
      </ng-template>
    </nz-collapse-panel>
  </nz-collapse>
</div>
